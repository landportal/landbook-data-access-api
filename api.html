<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>API &mdash; landportal-data-access-api 1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="landportal-data-access-api 1 documentation" href="index.html" />
    <link rel="next" title="app package" href="app.html" />
    <link rel="prev" title="Welcome to landportal-data-access-api’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="app.html" title="app package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to landportal-data-access-api’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">landportal-data-access-api 1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="api-description">
<h2>API Description<a class="headerlink" href="#api-description" title="Permalink to this headline">¶</a></h2>
<p>This api is based on <a class="reference external" href="http:http://en.wikipedia.org/wiki/Representational_state_transfer">RESTful principles</a>. So you can access it through normal http requests.</p>
</div>
<div class="section" id="api-security">
<h2>API Security<a class="headerlink" href="#api-security" title="Permalink to this headline">¶</a></h2>
<p>For security, a basic realm authentication is required, except graphics. Graphics are covered in the next section.</p>
<p>You need to obtain a token: these token then is used to authentication, so you have to authenticate with your username of landportal.info and with the generated token as the password. This token is generated when you register yourself in the landportal website, so you can access this token in your account info.</p>
</div>
<div class="section" id="api-structure">
<h2>API Structure<a class="headerlink" href="#api-structure" title="Permalink to this headline">¶</a></h2>
<p>Api is divided in two main sections: entities and graphics.</p>
<ul class="simple">
<li><strong>Entities</strong> are normal elements that make sense alone in Landportal context. Also they can be mixed up in order to give more complex data.</li>
<li><strong>Graphics</strong> are visual representations of the data e.g., bar chart of women holders in different countries. They can be customized by the user and even sent to another user that will see the customized graph.</li>
</ul>
</div>
<div class="section" id="api-usage">
<h2>API Usage<a class="headerlink" href="#api-usage" title="Permalink to this headline">¶</a></h2>
<div class="section" id="entities">
<h3>Entities<a class="headerlink" href="#entities" title="Permalink to this headline">¶</a></h3>
<p>The entities available are the next:</p>
<dl class="docutils">
<dt><strong>country</strong></dt>
<dd>Represents a country like Italy, France, Spain and so on.</dd>
<dt><strong>region</strong></dt>
<dd>Represents a region like Europe or America and it has other regions or countries belonging to it. There is an special region called &#8216;global&#8217; with un_code 1, it represents all the world.</dd>
<dt><strong>indicator</strong></dt>
<dd>Represents a set of data grouped by the same criteria, e.g.: Women Holders, it contains various observations for various countries.</dd>
<dt><strong>observations</strong></dt>
<dd>Represents a data observed or recollected in a moment or period of time</dd>
<dt><strong>user</strong></dt>
<dd>Represents a source of data</dd>
<dt><strong>organizations</strong></dt>
<dd>Represents an organization that provides data</dd>
<dt><strong>datasource</strong></dt>
<dd>Represents a collection of datasets</dd>
<dt><strong>dataset</strong></dt>
<dd>Represents a set of indicators with observations</dd>
<dt><strong>value</strong></dt>
<dd>Represents a value for an observation</dd>
<dt><strong>topic</strong></dt>
<dd>Represents a common topic among various indicators</dd>
</dl>
<p>As said before, api is based in RESTful principles, therefore, you can make a petition with your browser or curl, like:</p>
<div class="highlight-python"><div class="highlight"><pre>curl landportal.info/api/countries?format=json
</pre></div>
</div>
<p>Formats availabe through the format argument are: <strong>JSON</strong>, <strong>XML</strong>, <strong>CSV</strong> and <strong>JSONP</strong>.
If none of them is suplied the API will look into the Accept header for some of the following: <em>application/json</em>, <em>application/xml</em>, <em>text/csv</em> or <em>application/javascript</em>.
If neither the format argument nor the Accept header are provided the API will response in <strong>JSON</strong> format.</p>
<p>In the next table you can see all the URLs defined that you can access with a short description and arguments to modify the result. Variables in the URL are surrounded by &#8216;&lt;&#8217; and &#8216;&gt;&#8217;:</p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="32%" />
<col width="34%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">URI</th>
<th class="head">Description</th>
<th class="head">Arguments</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>landportal.info/api/countries</td>
<td>All countries</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/countries/&lt;iso3&gt;</td>
<td>Country with given iso3</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/indicators</td>
<td>All indicators</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/indicators/&lt;id&gt;</td>
<td>Indicator with the given id</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/indicators/&lt;id&gt;/top</td>
<td>Top observations of the given indicator with highest values</td>
<td>top: number of results</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/indicators/&lt;id&gt;/average</td>
<td>Average of given indicator</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/indicators/&lt;id&gt;/compatible</td>
<td>Show compatible indicators to the one given</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/users</td>
<td>All users</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/users/&lt;id&gt;</td>
<td>User with the given id</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/organizations</td>
<td>All organizations</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/organizations/&lt;id&gt;</td>
<td>Organization with the given id</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/organizations/&lt;id&gt;/users</td>
<td>Users of the given organization</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/organizations/&lt;organization_id&gt;/users/&lt;user_id&gt;</td>
<td>User with the given id of the given organization</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/countries/&lt;iso3&gt;/indicators</td>
<td>Indicators of the given country</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/countries/&lt;iso3&gt;/indicators/&lt;indicator_id&gt;</td>
<td>Given indicators of the given country</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/observations/&lt;id_first_filter&gt;/&lt;id_second_filter&gt;</td>
<td>Observations of a region and an indicator or a country and an indicator</td>
<td>limit: max number of results, offset: initial gap not to be returned</td>
</tr>
<tr class="row-even"><td>landportal.info/api/observations/&lt;id_first_filter&gt;/&lt;id_second_filter&gt;/average</td>
<td>Average of the observations, same as above one</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/observations/&lt;iso3&gt;/starred</td>
<td>Observations of a country if the indicator is starred</td>
<td>limit: max number of results, offset: initial gap not to be returned</td>
</tr>
<tr class="row-even"><td>landportal.info/api/regions</td>
<td>All regions</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/regions/&lt;un_code&gt;</td>
<td>Region with the given un code</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/regions/&lt;id&gt;/countries</td>
<td>Countries that are part of the given region</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/regions/&lt;id&gt;/countries/&lt;iso3&gt;</td>
<td>Country with the given iso3 and is part of the given region</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/regions/&lt;id&gt;/regions</td>
<td>Regions that are part of the given region</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/datasources</td>
<td>All datasources</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/datasources/&lt;id&gt;</td>
<td>Datasource with the given id</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/datasets</td>
<td>All datasets</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/datasets/&lt;id&gt;</td>
<td>Dataset with the given id</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/datasources/&lt;id&gt;/indicators</td>
<td>Indicators of the given datasource</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/datasets/&lt;id&gt;</td>
<td>Dataset with the given id</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/datasources/&lt;id&gt;/indicators/&lt;indicator_id&gt;</td>
<td>Indicator with the given id of the given datasource</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/values</td>
<td>All values</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/values/&lt;id&gt;</td>
<td>Value with the given id</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/measurement_units</td>
<td>All measurement units</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/measurement_units/&lt;id&gt;</td>
<td>Measurement unit with the given id</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/topics</td>
<td>All topics</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/topics/&lt;id&gt;</td>
<td>Topic with the given id</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/topics/&lt;topic_id&gt;/indicators</td>
<td>Indicators of the given topic</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/topics/&lt;topic_id&gt;/indicators/&lt;indicator_id&gt;</td>
<td>Indicator with the given id of the given topic</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/regions/&lt;region_id&gt;/countries_with_data</td>
<td>Countries that are part of the given region and have observations</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/countries/&lt;iso3&gt;/last_update</td>
<td>Date of the country last update</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/indicators/&lt;id&gt;/&lt;iso3&gt;/last_update</td>
<td>Date of the country last update for the given indicator</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/observations/&lt;id&gt;</td>
<td>Observations of a country, indicator or region</td>
<td>limit: max number of results, offset: initial gap not to be returned</td>
</tr>
<tr class="row-even"><td>landportal.info/api/observations/&lt;id&gt;/range</td>
<td>Observations of a country, indicator or region, betwenn two dates</td>
<td>from: beginning date of the interval, to: final date of the interval</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/indicators/&lt;id&gt;/range</td>
<td>Observations of the given indicator between two dates</td>
<td>from: beginning date of the interval, to: final date of the interval</td>
</tr>
<tr class="row-even"><td>landportal.info/api/indicators/&lt;id&gt;/regions_with_data</td>
<td>Regions with observations for the given indicator</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/indicators/&lt;id&gt;/regions_without_data</td>
<td>Regions without observations for the given indicator</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/indicators/&lt;id&gt;/average/range</td>
<td>Average of the given indicator between two dates</td>
<td>from: beginning date of the interval, to: final date of the interval</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/observations/&lt;id&gt;/&lt;iso3&gt;/average/range</td>
<td>Average of the given indicator and country between two dates</td>
<td>from: beginning date of the interval, to: final date of the interval</td>
</tr>
<tr class="row-even"><td>landportal.info/api/indicators/&lt;id&gt;/related</td>
<td>Indicators with relation with the one given</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/indicators/&lt;id&gt;/&lt;iso3&gt;/tendency</td>
<td>Tendency of the given indicator in the given country</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/regions/translations</td>
<td>All region translations</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/regions/translations/&lt;region_id&gt;/&lt;lang_code&gt;</td>
<td>Region translation of the given region in the given language</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/indicators/translations</td>
<td>All indicator translations</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/indicator/translations/&lt;indicator_id&gt;/&lt;lang_code&gt;</td>
<td>Indicator translation of the given indicator in the given language</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/topics/translations</td>
<td>All topic translations</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>landportal.info/api/topics/translations/&lt;topic_id&gt;/&lt;lang_code&gt;</td>
<td>Topic translation of the given topic in the given language</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>landportal.info/api/indicators/starred</td>
<td>Indicators that are starred, normally those which are on the main page</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Outputs that can change depending on the language, have another parameter available, this is: lang, so you can use lang=fr to get it on French. Translations are available for: Regions, Countries, Indicators and Topics.</p>
<p>Some example outputs are:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">landportal</span><span class="o">.</span><span class="n">info</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">indicators</span><span class="o">/</span><span class="n">INDFAOGENDER1</span>
<span class="n">landportal</span><span class="o">.</span><span class="n">info</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">countries</span><span class="o">/</span><span class="n">ESP</span>
</pre></div>
</div>
<img alt="_images/indicator.PNG" src="_images/indicator.PNG" />
<img alt="_images/country.PNG" src="_images/country.PNG" />
</div>
<div class="section" id="graphics">
<h3>Graphics<a class="headerlink" href="#graphics" title="Permalink to this headline">¶</a></h3>
<p>Graphics are based on a javascript library called <a class="reference external" href="https://github.com/weso/wesCountry">wesCountry</a>. wesCountry uses svg to show the requested graphic. You can access by simply put this URL on your web browser:</p>
<div class="highlight-python"><div class="highlight"><pre>http://landportal.info/api/graphs/barchart?indicator=INDFAOGENDER2&amp;countries=ESP,FRA,ITA&amp;colours=FA5882,2BBBD8,FCD271&amp;xTag=Years&amp;yTag=Values&amp;title=INDFAOGENDER2&amp;description=Women%20Holders
</pre></div>
</div>
<p>As you can see you can define what kind of chart you want to be showed, available charts are:</p>
<ul class="simple">
<li><strong>barchart</strong>: Chart with higher or lower bars for every value</li>
<li><strong>linechart</strong>: Chart with dots representing the values. These dots are connected by lines.</li>
<li><strong>areachart</strong>: Chart very similar to linechart, but this one colors the area below each line.</li>
<li><strong>piechart</strong>: Chart that shows various pies divided with a percentage according to the values in the serie.</li>
<li><strong>polarchart</strong>: Chart that shows three or more variables represented on axes starting from the same point.</li>
<li><strong>scatterchart</strong>: Chart that shows various points but without connecting the dots</li>
<li><strong>stackedchart</strong>: Chart similiar to bar chart, but values of the same year are represented in a stack</li>
<li><strong>donutchart</strong>: Chart like pie chart but with a hole inside it</li>
<li><strong>table</strong>: Table with the data</li>
<li><strong>map</strong>: Map with highlighted countries and values if you pass over them</li>
</ul>
<p>Also there are some arguments available to modify graph aspect or data. Available arguments are:</p>
<ul class="simple">
<li><strong>indicator</strong>: Id of the indicator to be showed, two indicators separated by comma in the case of scatterchart</li>
<li><strong>countries</strong>: Iso3 of the countries to be included, separated by commas</li>
<li><strong>colours</strong>: HTML codes without &#8216;#&#8217; and separated by commas</li>
<li><strong>xTag</strong>: Name for the x axis</li>
<li><strong>yTag</strong>: Name for the y axis</li>
<li><strong>title</strong>: Title for the graph</li>
<li><strong>description</strong>: Description for the graph</li>
<li><strong>from</strong>: Beginning date for the date range to filter data. Format required: &#8216;YYYYMMDD&#8217;</li>
<li><strong>to</strong>: End date for the date range to filter data. Format required: &#8216;YYYYMMDD&#8217;</li>
</ul>
<p>You can see below examples for barchart and piechart:</p>
<script src="_static/wesCountry.min.js"></script>
<div id="barChartDiv" style="margin-top:10px;">
    <script>
            var options = {"chartType": "bar", "serieColours": ["#FA5882", "#2BBBD8", "#FCD271"], "series": [{"name": "Spain", "values": [284620.0]}, {"name": "France", "values": [98840.0]}, {"name": "Italy", "values": [535620.0]}], "valueOnItem": {"show": false}, "xAxis": {"title": "Years", "values": ["2007"]}, "yAxis": {"title": "Values"}, "container": "#barChartDiv"};
            wesCountry.charts.chart(options);
    </script>
</div>
<div id="pieChartDiv" style="margin-top:10px;">
    <script>
            var options = {"chartType": "pie", "serieColours": ["#FA5882", "#2BBBD8", "#FCD271"], "series": [{"name": "Spain", "values": [284620.0]}, {"name": "France", "values": [98840.0]}, {"name": "Italy", "values": [535620.0]}], "valueOnItem": {"show": false}, "xAxis": {"title": "Years", "values": ["2007"]}, "yAxis": {"title": "Values"}, "container": "#pieChartDiv"};
            wesCountry.charts.chart(options);
    </script>
</div></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">API</a><ul>
<li><a class="reference internal" href="#api-description">API Description</a></li>
<li><a class="reference internal" href="#api-security">API Security</a></li>
<li><a class="reference internal" href="#api-structure">API Structure</a></li>
<li><a class="reference internal" href="#api-usage">API Usage</a><ul>
<li><a class="reference internal" href="#entities">Entities</a></li>
<li><a class="reference internal" href="#graphics">Graphics</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to landportal-data-access-api&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="app.html"
                        title="next chapter">app package</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="app.html" title="app package"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to landportal-data-access-api’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">landportal-data-access-api 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Weso.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>